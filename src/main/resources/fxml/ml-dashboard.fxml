<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.chart.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.ensah.qoe.Controller.MOSDashboardController"
            stylesheets="/css/ml-dashboard.css"
            styleClass="root">

    <!-- ===================== HEADER ===================== -->
    <top>
        <VBox styleClass="header">
            <HBox styleClass="header-content" alignment="CENTER_LEFT" spacing="30">
                <Label text="ðŸŽµ PrÃ©diction de QualitÃ© Audio (MOS)" styleClass="header-title"/>

                <Region HBox.hgrow="ALWAYS"/>

                <HBox spacing="15" alignment="CENTER_RIGHT">
                    <Button fx:id="btnAccueilMOS" text="ðŸ“Š Tableau de bord"
                            onAction="#showAccueilMOS"
                            styleClass="nav-btn-active"/>
                    <Button fx:id="btnPredictionMOS" text="ðŸŽµ PrÃ©diction MOS"
                            onAction="#showPredictionMOS"
                            styleClass="nav-btn"/>
                    <Button fx:id="btnComparisonMOS" text="ðŸ“ˆ Comparaison"
                            onAction="#showComparisonMOS"
                            styleClass="nav-btn"/>
                </HBox>
            </HBox>
        </VBox>
    </top>

    <!-- ===================== MAIN CONTENT ===================== -->
    <center>
        <StackPane fx:id="contentPaneMOS">

            <!-- ============== PAGE ACCUEIL ============== -->
            <ScrollPane fx:id="accueilMOSScroll" fitToWidth="true" styleClass="scroll-pane">
                <VBox fx:id="accueilMOSPane" spacing="25" styleClass="main-content">
                    <padding>
                        <Insets top="30" right="30" bottom="30" left="30"/>
                    </padding>

                    <!-- Section EntraÃ®nement -->
                    <VBox spacing="15" styleClass="section">
                        <Label text="ðŸš€ EntraÃ®nement du ModÃ¨le MOS" styleClass="section-title"/>
                        <HBox spacing="15" alignment="CENTER_LEFT">
                            <Button text="Lancer l'EntraÃ®nement"
                                    onAction="#handleTrainMOS"
                                    styleClass="train-btn"/>
                            <Label text="Algorithme: Random Forest | Dataset: mos_dataset.csv"
                                   styleClass="info-text"/>
                        </HBox>
                    </VBox>

                    <!-- Statistiques en cartes -->
                    <VBox spacing="15" styleClass="section">
                        <Label text="ðŸ“ˆ Statistiques de QualitÃ© Audio" styleClass="section-title"/>

                        <GridPane hgap="20" vgap="20">
                            <!-- Carte 1: Ã‰chantillons audio -->
                            <VBox styleClass="stat-card" GridPane.rowIndex="0" GridPane.columnIndex="0">
                                <Label text="ðŸŽµ Ã‰chantillons Audio" styleClass="card-label"/>
                                <Label fx:id="totalAudioLabel" text="--" styleClass="card-value"/>
                                <Label text="Fichiers analysÃ©s" styleClass="card-subtitle"/>
                            </VBox>

                            <!-- Carte 2: MOS Moyen -->
                            <VBox styleClass="stat-card stat-card-info" GridPane.rowIndex="0" GridPane.columnIndex="1">
                                <Label text="ðŸ“Š MOS Moyen" styleClass="card-label"/>
                                <Label fx:id="avgMOSLabel" text="--" styleClass="card-value"/>
                                <Label text="Sur 5.0" styleClass="card-subtitle"/>
                            </VBox>

                            <!-- Carte 3: PrÃ©cision -->
                            <VBox styleClass="stat-card stat-card-success" GridPane.rowIndex="0" GridPane.columnIndex="2">
                                <Label text="ðŸŽ¯ PrÃ©cision (RMSE)" styleClass="card-label"/>
                                <Label fx:id="rmseLabel" text="--" styleClass="card-value"/>
                                <Label text="Erreur moyenne" styleClass="card-subtitle"/>
                            </VBox>

                            <!-- Carte 4: Plage MOS -->
                            <VBox styleClass="stat-card stat-card-warning" GridPane.rowIndex="0" GridPane.columnIndex="3">
                                <Label text="ðŸ“ˆ Plage MOS" styleClass="card-label"/>
                                <HBox spacing="5" alignment="CENTER">
                                    <Label fx:id="minMOSLabel" text="1.0" styleClass="mos-min"/>
                                    <Label text="â†’" styleClass="mos-arrow"/>
                                    <Label fx:id="maxMOSLabel" text="5.0" styleClass="mos-max"/>
                                </HBox>
                                <Label text="Min â†’ Max" styleClass="card-subtitle"/>
                            </VBox>
                        </GridPane>
                    </VBox>

                    <!-- Graphiques -->
                    <VBox spacing="15" styleClass="section">
                        <Label text="ðŸ“‰ Visualisation des DonnÃ©es" styleClass="section-title"/>
                        <Label text="Analyse de la qualitÃ© audio et distribution MOS"
                               styleClass="info-text"/>

                        <GridPane hgap="20" vgap="20">
                            <!-- Graphique 1: Tendances MOS -->
                            <VBox styleClass="chart-container" GridPane.rowIndex="0" GridPane.columnIndex="0">
                                <LineChart fx:id="mosTrendChart" legendVisible="true" animated="false">
                                    <xAxis>
                                        <NumberAxis label="Ã‰chantillon" side="BOTTOM" autoRanging="true"/>
                                    </xAxis>
                                    <yAxis>
                                        <NumberAxis label="MOS (1-5)" side="LEFT" lowerBound="1" upperBound="5" tickUnit="1"/>
                                    </yAxis>
                                </LineChart>
                            </VBox>

                            <!-- Graphique 2: Distribution qualitÃ© -->
                            <VBox styleClass="chart-container" GridPane.rowIndex="0" GridPane.columnIndex="1">
                                <BarChart fx:id="qualityDistributionChart" legendVisible="true" animated="false">
                                    <xAxis>
                                        <CategoryAxis label="Niveau QualitÃ©" side="BOTTOM"/>
                                    </xAxis>
                                    <yAxis>
                                        <NumberAxis label="Nombre" side="LEFT" autoRanging="true"/>
                                    </yAxis>
                                </BarChart>
                            </VBox>

                            <!-- Graphique 3: Relation SNR-MOS -->
                            <VBox styleClass="chart-container" GridPane.rowIndex="1" GridPane.columnIndex="0" GridPane.columnSpan="2">
                                <ScatterChart fx:id="featureMOSChart" legendVisible="true" animated="false">
                                    <xAxis>
                                        <NumberAxis label="SNR (dB)" side="BOTTOM" autoRanging="true"/>
                                    </xAxis>
                                    <yAxis>
                                        <NumberAxis label="MOS" side="LEFT" lowerBound="1" upperBound="5"/>
                                    </yAxis>
                                </ScatterChart>
                            </VBox>
                        </GridPane>
                    </VBox>

                    <!-- Tableau des rÃ©sultats -->
                    <VBox spacing="15" styleClass="section">
                        <Label text="ðŸ“‹ RÃ©sultats de PrÃ©diction MOS" styleClass="section-title"/>
                        <Label text="Comparaison MOS prÃ©dit vs rÃ©el pour les Ã©chantillons audio"
                               styleClass="info-text"/>

                        <TableView fx:id="qualityTable" styleClass="data-table">
                            <columns>
                                <TableColumn fx:id="colAudioId" text="ID Audio" prefWidth="120"/>
                                <TableColumn fx:id="colPredictedMOS" text="MOS PrÃ©dit" prefWidth="120"/>
                                <TableColumn fx:id="colActualMOS" text="MOS RÃ©el" prefWidth="100"/>
                                <TableColumn fx:id="colError" text="Erreur" prefWidth="100"/>
                                <TableColumn fx:id="colQualityLevel" text="Niveau QualitÃ©" prefWidth="150"/>
                            </columns>
                        </TableView>
                    </VBox>
                </VBox>
            </ScrollPane>

            <!-- ============== PAGE PRÃ‰DICTION ============== -->
            <ScrollPane fx:id="predictionMOSScroll" fitToWidth="true" styleClass="scroll-pane" visible="false" managed="false">
                <HBox alignment="CENTER">
                    <VBox fx:id="predictionMOSPane" spacing="30" styleClass="main-content"
                          maxWidth="900">
                        <padding>
                            <Insets top="40" right="40" bottom="40" left="40"/>
                        </padding>

                        <!-- Titre principal -->
                        <VBox spacing="8" alignment="CENTER">
                            <Label text="ðŸŽµ PrÃ©diction du Mean Opinion Score (MOS)" styleClass="prediction-title"/>
                            <Label text="Analysez vos caractÃ©ristiques audio pour prÃ©dire la qualitÃ© perÃ§ue"
                                   styleClass="prediction-subtitle"/>
                        </VBox>

                        <!-- Formulaire de prÃ©diction -->
                        <VBox styleClass="prediction-form" spacing="25" maxWidth="700" alignment="CENTER">
                            <Label text="ðŸŽ›ï¸ CaractÃ©ristiques Audio" styleClass="form-section-title"/>

                            <GridPane hgap="20" vgap="20">
                                <columnConstraints>
                                    <ColumnConstraints percentWidth="40"/>
                                    <ColumnConstraints percentWidth="50"/>
                                    <ColumnConstraints percentWidth="10"/>
                                </columnConstraints>

                                <!-- Spectral Centroid -->
                                <Label text="ðŸŽ¯ CentroÃ¯de Spectral"
                                       GridPane.rowIndex="0" GridPane.columnIndex="0"
                                       styleClass="form-label"/>
                                <TextField fx:id="spectralCentroidField"
                                           text="0.5"
                                           promptText="0.0 - 1.0"
                                           GridPane.rowIndex="0" GridPane.columnIndex="1"
                                           styleClass="form-input"/>
                                <Label text=""
                                       GridPane.rowIndex="0" GridPane.columnIndex="2"
                                       styleClass="unit-label"/>

                                <!-- Spectral Bandwidth -->
                                <Label text="ðŸ“Š Largeur Spectrale"
                                       GridPane.rowIndex="1" GridPane.columnIndex="0"
                                       styleClass="form-label"/>
                                <TextField fx:id="spectralBandwidthField"
                                           text="0.3"
                                           promptText="0.0 - 1.0"
                                           GridPane.rowIndex="1" GridPane.columnIndex="1"
                                           styleClass="form-input"/>
                                <Label text=""
                                       GridPane.rowIndex="1" GridPane.columnIndex="2"
                                       styleClass="unit-label"/>

                                <!-- RMS -->
                                <Label text="ðŸ”Š RMS (Volume)"
                                       GridPane.rowIndex="2" GridPane.columnIndex="0"
                                       styleClass="form-label"/>
                                <TextField fx:id="rmsField"
                                           text="0.1"
                                           promptText="0.0 - 0.5"
                                           GridPane.rowIndex="2" GridPane.columnIndex="1"
                                           styleClass="form-input"/>
                                <Label text=""
                                       GridPane.rowIndex="2" GridPane.columnIndex="2"
                                       styleClass="unit-label"/>

                                <!-- ZCR -->
                                <Label text="ðŸ“ˆ ZCR (Zero Crossing)"
                                       GridPane.rowIndex="3" GridPane.columnIndex="0"
                                       styleClass="form-label"/>
                                <TextField fx:id="zcrField"
                                           text="0.05"
                                           promptText="0.0 - 0.2"
                                           GridPane.rowIndex="3" GridPane.columnIndex="1"
                                           styleClass="form-input"/>
                                <Label text=""
                                       GridPane.rowIndex="3" GridPane.columnIndex="2"
                                       styleClass="unit-label"/>

                                <!-- SNR -->
                                <Label text="ðŸ“¶ SNR"
                                       GridPane.rowIndex="4" GridPane.columnIndex="0"
                                       styleClass="form-label"/>
                                <TextField fx:id="snrField"
                                           text="25.0"
                                           promptText="0 - 50"
                                           GridPane.rowIndex="4" GridPane.columnIndex="1"
                                           styleClass="form-input"/>
                                <Label text="dB"
                                       GridPane.rowIndex="4" GridPane.columnIndex="2"
                                       styleClass="unit-label"/>

                                <!-- Distortion -->
                                <Label text="âš ï¸ Distorsion"
                                       GridPane.rowIndex="5" GridPane.columnIndex="0"
                                       styleClass="form-label"/>
                                <TextField fx:id="distortionField"
                                           text="0.02"
                                           promptText="0.0 - 0.1"
                                           GridPane.rowIndex="5" GridPane.columnIndex="1"
                                           styleClass="form-input"/>
                                <Label text=""
                                       GridPane.rowIndex="5" GridPane.columnIndex="2"
                                       styleClass="unit-label"/>

                                <!-- Noise Level -->
                                <Label text="ðŸ”‡ Niveau Bruit"
                                       GridPane.rowIndex="6" GridPane.columnIndex="0"
                                       styleClass="form-label"/>
                                <TextField fx:id="noiseLevelField"
                                           text="0.01"
                                           promptText="0.0 - 0.1"
                                           GridPane.rowIndex="6" GridPane.columnIndex="1"
                                           styleClass="form-input"/>
                                <Label text=""
                                       GridPane.rowIndex="6" GridPane.columnIndex="2"
                                       styleClass="unit-label"/>
                            </GridPane>

                            <!-- Sliders interactifs -->
                            <VBox spacing="20" styleClass="slider-container">
                                <Label text="âš™ï¸ ParamÃ¨tres Interactifs" styleClass="slider-title"/>

                                <VBox spacing="15">
                                    <!-- Volume -->
                                    <VBox spacing="5">
                                        <HBox>
                                            <Label text="Volume" styleClass="slider-label"/>
                                            <Region HBox.hgrow="ALWAYS"/>
                                            <Label text="50%" styleClass="slider-value"/>
                                        </HBox>
                                        <Slider fx:id="volumeSlider" min="0" max="100" value="50"
                                                showTickLabels="true" showTickMarks="true"
                                                majorTickUnit="25" minorTickCount="5"/>
                                    </VBox>

                                    <!-- Bruit -->
                                    <VBox spacing="5">
                                        <HBox>
                                            <Label text="Niveau Bruit" styleClass="slider-label"/>
                                            <Region HBox.hgrow="ALWAYS"/>
                                            <Label text="Faible" styleClass="slider-value"/>
                                        </HBox>
                                        <Slider fx:id="noiseSlider" min="0" max="5" value="1"
                                                showTickLabels="true" showTickMarks="true"
                                                majorTickUnit="1"/>
                                    </VBox>

                                    <!-- Compression -->
                                    <VBox spacing="5">
                                        <HBox>
                                            <Label text="Compression" styleClass="slider-label"/>
                                            <Region HBox.hgrow="ALWAYS"/>
                                            <Label text="40%" styleClass="slider-value"/>
                                        </HBox>
                                        <Slider fx:id="compressionSlider" min="0" max="100" value="40"
                                                showTickLabels="true" showTickMarks="true"
                                                majorTickUnit="25" minorTickCount="5"/>
                                    </VBox>
                                </VBox>
                            </VBox>

                            <!-- Bouton PrÃ©dire -->
                            <HBox alignment="CENTER" spacing="15">
                                <Button text="ðŸŽ¯ PrÃ©dire le MOS"
                                        onAction="#handlePredictMOS"
                                        styleClass="predict-btn"/>
                                <ProgressIndicator fx:id="loadingIndicatorMOS"
                                                   visible="false"
                                                   prefWidth="30" prefHeight="30"/>
                            </HBox>
                        </VBox>

                        <!-- RÃ©sultat -->
                        <VBox styleClass="result-card" spacing="20" alignment="CENTER" maxWidth="700">
                            <Label text="ðŸ“Š RÃ©sultat de PrÃ©diction MOS" styleClass="result-title"/>

                            <HBox spacing="40" alignment="CENTER">
                                <VBox alignment="CENTER" spacing="8">
                                    <Label text="MOS PrÃ©dit" styleClass="result-label-text"/>
                                    <Label fx:id="predictedMOSLabel" text="--"
                                           styleClass="result-value"/>
                                </VBox>

                                <Separator orientation="VERTICAL" prefHeight="60"/>

                                <VBox alignment="CENTER" spacing="8">
                                    <Label text="Niveau QualitÃ©" styleClass="result-label-text"/>
                                    <Label fx:id="qualityLevelLabel" text="--"
                                           styleClass="quality-value"/>
                                </VBox>

                                <Separator orientation="VERTICAL" prefHeight="60"/>

                                <VBox alignment="CENTER" spacing="8">
                                    <Label text="Confiance" styleClass="result-label-text"/>
                                    <Label fx:id="confidenceLabel" text="--"
                                           styleClass="confidence-value"/>
                                </VBox>
                            </HBox>

                            <!-- Barre de progression MOS -->
                            <VBox spacing="5" styleClass="mos-bar-container">
                                <ProgressBar fx:id="mosBar" prefWidth="400"/>
                                <HBox>
                                    <Label text="1.0 (MÃ©diocre)" styleClass="mos-scale-label"/>
                                    <Region HBox.hgrow="ALWAYS"/>
                                    <Label text="5.0 (Excellent)" styleClass="mos-scale-label"/>
                                </HBox>
                            </VBox>
                        </VBox>

                        <!-- Information sur le MOS -->
                        <VBox styleClass="info-box" spacing="15" maxWidth="800">
                            <Label text="ðŸ’¡ Qu'est-ce que le MOS (Mean Opinion Score) ?" styleClass="info-title"/>

                            <VBox spacing="12">
                                <Label text="Le Mean Opinion Score (MOS) est une mesure standard de la qualitÃ© audio perÃ§ue par les utilisateurs. Il varie de 1 (trÃ¨s mauvaise qualitÃ©) Ã  5 (excellente qualitÃ©)."
                                       wrapText="true" styleClass="info-text"/>

                                <Label text="ðŸ“‹ Ã‰chelle MOS :" styleClass="info-subtitle"/>
                                <VBox spacing="6" styleClass="info-list">
                                    <Label text="ðŸŽ¯ 4.0-5.0 : Excellente - QualitÃ© tÃ©lÃ©phonique HD, audio clair et naturel"
                                           wrapText="true" styleClass="info-item"/>
                                    <Label text="âœ… 3.0-4.0 : Bonne - QualitÃ© acceptable, lÃ©gÃ¨res distorsions audibles"
                                           wrapText="true" styleClass="info-item"/>
                                    <Label text="âš ï¸ 2.5-3.0 : Acceptable - QualitÃ© mÃ©diocre mais comprÃ©hensible"
                                           wrapText="true" styleClass="info-item"/>
                                    <Label text="ðŸ”´ 2.0-2.5 : MÃ©diocre - DifficultÃ©s de comprÃ©hension, bruit important"
                                           wrapText="true" styleClass="info-item"/>
                                    <Label text="âŒ 1.0-2.0 : Mauvaise - IncomprÃ©hensible, trÃ¨s dÃ©gradÃ©"
                                           wrapText="true" styleClass="info-item"/>
                                </VBox>

                                <Separator/>

                                <Label text="ðŸŽ¯ Facteurs influenÃ§ant le MOS :" styleClass="info-subtitle"/>
                                <Label text="Notre modÃ¨le de Machine Learning (Random Forest) analyse plusieurs caractÃ©ristiques audio pour prÃ©dire le MOS :"
                                       wrapText="true" styleClass="info-text"/>
                                <VBox spacing="6" styleClass="info-list">
                                    <Label text="â€¢ Rapport Signal/Bruit (SNR) : Plus il est Ã©levÃ©, meilleur est le MOS"
                                           wrapText="true" styleClass="info-item"/>
                                    <Label text="â€¢ Niveau de bruit : Le bruit rÃ©duit considÃ©rablement la qualitÃ© perÃ§ue"
                                           wrapText="true" styleClass="info-item"/>
                                    <Label text="â€¢ Distorsion : Les artefacts de compression dÃ©gradent le MOS"
                                           wrapText="true" styleClass="info-item"/>
                                    <Label text="â€¢ CaractÃ©ristiques spectrales : CentroÃ¯de spectral, largeur de bande"
                                           wrapText="true" styleClass="info-item"/>
                                </VBox>

                                <Label text="âš ï¸ Impact sur l'expÃ©rience utilisateur :" styleClass="info-subtitle"/>
                                <Label text="Un MOS bas (infÃ©rieur Ã  3.0) peut entraÃ®ner : fatigue auditive, difficultÃ©s de comprÃ©hension, frustration des utilisateurs, et une diminution de la productivitÃ© dans les environnements professionnels comme les centres d'appel ou les rÃ©unions virtuelles."
                                       wrapText="true" styleClass="info-text"/>
                            </VBox>
                        </VBox>
                    </VBox>
                </HBox>
            </ScrollPane>

            <!-- ============== PAGE COMPARAISON ============== -->
            <ScrollPane fx:id="comparisonMOSScroll" fitToWidth="true" styleClass="scroll-pane" visible="false" managed="false">
                <VBox spacing="30" styleClass="main-content">
                    <padding>
                        <Insets top="40" right="40" bottom="40" left="40"/>
                    </padding>

                    <!-- Titre -->
                    <VBox spacing="8" alignment="CENTER_LEFT">
                        <Label text="ðŸ“ˆ Analyse Comparative MOS" styleClass="section-title"/>
                        <Label text="Comparez les performances du modÃ¨le et analysez l'influence des paramÃ¨tres"
                               styleClass="info-text"/>
                    </VBox>

                    <!-- ContrÃ´les -->
                    <HBox spacing="20" alignment="CENTER_LEFT" styleClass="comparison-controls">
                        <Label text="MÃ©trique :" styleClass="control-label"/>
                        <ChoiceBox fx:id="comparisonMetricChoice" prefWidth="200"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <CheckBox fx:id="showActualMOSCheck" text="MOS RÃ©el" selected="true"/>
                        <CheckBox fx:id="showPredictedMOSCheck" text="MOS PrÃ©dit" selected="true"/>
                        <Button text="Actualiser" onAction="#updateComparisonChart"
                                styleClass="control-button"/>
                    </HBox>

                    <!-- Graphique de comparaison -->
                    <VBox styleClass="chart-container-large">
                        <LineChart fx:id="comparisonChart" legendVisible="true" animated="false" prefHeight="400">
                            <xAxis>
                                <NumberAxis label="Ã‰chantillon" side="BOTTOM" autoRanging="true"/>
                            </xAxis>
                            <yAxis>
                                <NumberAxis label="MOS (1-5)" side="LEFT" lowerBound="1" upperBound="5" tickUnit="1"/>
                            </yAxis>
                        </LineChart>
                    </VBox>

                    <!-- Rapport d'analyse -->
                    <VBox spacing="15" styleClass="analysis-section">
                        <Label text="ðŸ“‹ Rapport d'Analyse" styleClass="section-title"/>
                        <TextArea fx:id="comparisonTextArea" wrapText="true" editable="false"
                                  prefHeight="200" styleClass="analysis-textarea"/>
                    </VBox>

                    <!-- Facteurs d'influence -->
                    <VBox spacing="15" styleClass="factors-section">
                        <Label text="ðŸ“Š Facteurs d'Influence sur le MOS" styleClass="section-title"/>

                        <VBox spacing="15">
                            <!-- SNR -->
                            <VBox spacing="5">
                                <HBox>
                                    <Label text="Rapport Signal/Bruit (SNR)" styleClass="factor-label"/>
                                    <Region HBox.hgrow="ALWAYS"/>
                                    <Label text="Impact: Ã‰levÃ©" styleClass="factor-impact-high"/>
                                </HBox>
                                <ProgressBar progress="0.9" styleClass="factor-progress-high"/>
                            </VBox>

                            <!-- Bruit -->
                            <VBox spacing="5">
                                <HBox>
                                    <Label text="Niveau de Bruit" styleClass="factor-label"/>
                                    <Region HBox.hgrow="ALWAYS"/>
                                    <Label text="Impact: Ã‰levÃ©" styleClass="factor-impact-high"/>
                                </HBox>
                                <ProgressBar progress="0.85" styleClass="factor-progress-high"/>
                            </VBox>

                            <!-- Distorsion -->
                            <VBox spacing="5">
                                <HBox>
                                    <Label text="Distorsion" styleClass="factor-label"/>
                                    <Region HBox.hgrow="ALWAYS"/>
                                    <Label text="Impact: Moyen" styleClass="factor-impact-medium"/>
                                </HBox>
                                <ProgressBar progress="0.6" styleClass="factor-progress-medium"/>
                            </VBox>

                            <!-- Compression -->
                            <VBox spacing="5">
                                <HBox>
                                    <Label text="Compression" styleClass="factor-label"/>
                                    <Region HBox.hgrow="ALWAYS"/>
                                    <Label text="Impact: ModÃ©rÃ©" styleClass="factor-impact-medium"/>
                                </HBox>
                                <ProgressBar progress="0.4" styleClass="factor-progress-medium"/>
                            </VBox>
                        </VBox>

                        <!-- Recommandations -->
                        <VBox spacing="10" styleClass="recommendations-box">
                            <Label text="ðŸ’¡ Recommandations d'AmÃ©lioration" styleClass="recommendations-title"/>
                            <VBox spacing="5" styleClass="recommendations-list">
                                <Label text="â€¢ Augmenter le SNR au-delÃ  de 30 dB" styleClass="recommendation-item"/>
                                <Label text="â€¢ RÃ©duire le bruit en dessous de 0.01" styleClass="recommendation-item"/>
                                <Label text="â€¢ Maintenir la distorsion infÃ©rieure Ã  0.05" styleClass="recommendation-item"/>
                                <Label text="â€¢ Ã‰viter une compression excessive" styleClass="recommendation-item"/>
                            </VBox>
                        </VBox>
                    </VBox>
                </VBox>
            </ScrollPane>

        </StackPane>
    </center>

</BorderPane>